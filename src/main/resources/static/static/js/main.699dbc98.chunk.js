(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{131:function(e,t,a){},132:function(e,t,a){},206:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(17),c=a.n(o),l=(a(82),a(5)),s=a.n(l),u=a(9),i=a(8),m=(a(84),a(225)),d=a(226),p=a(228),f=a(224),g=a(227),E=a(22),v=a(211),b=a(212),h=a(213),w=a(214),O=a(215);a(85);var C=function(e){var t=e.product,a=e.selected,r=e.onClick,o=t.imageUrl,c=t.description,l=t.category,s=t.price;return n.a.createElement("div",{className:"ProductCard m-1 p-2 ".concat(a),onClick:function(){return r(t)}},n.a.createElement(v.a,{style:{width:"18rem"}},n.a.createElement(b.a,{top:!0,width:"100%",src:o,alt:c}),n.a.createElement(h.a,null,n.a.createElement(w.a,{className:"text-muted font-italic"},l),n.a.createElement(O.a,null,c),n.a.createElement(O.a,{className:"font-weight-bold text-success"},"RD$".concat(s)))))};a(237);a(88),a(89);var y=a(216),k=a(217),j=a(21);var N=function(e){var t=e.onCategoryChange,a=Object(j.b)((function(e){return e.categories}));return n.a.createElement("div",{className:"d-flex flex-row justify-content-center align-items-cente mr-2"},n.a.createElement(y.a,{className:"mr-2",htmlFor:"categorySelect"},"Categor\xedas"),n.a.createElement(k.a,{type:"select",id:"categorySelect",onChange:function(e){var a=e.target.value;t(a)}},n.a.createElement("option",{key:0,value:""}),a.map((function(e){var t=e.category,a=e.id;return n.a.createElement("option",{key:a},t)}))))};var S=function(e){return n.a.createElement("div",{className:"Toolbar d-flex flex-wrap p-2 border rounded"},n.a.createElement("div",{className:"searchInputContainer p-1"},n.a.createElement("div",{className:"input-group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text",id:"inputGroupPrepend2"},n.a.createElement("i",{className:"fa fa-search"}))),n.a.createElement("input",{onChange:e.onSearch,type:"text",className:"form-control",placeholder:"Buscar","aria-describedby":"inputGroupPrepend2",required:!0}))),n.a.createElement(N,{onCategoryChange:e.onCategoryChange}),n.a.createElement("div",{className:"actionButtonsContainer p-1"},n.a.createElement("button",{onClick:e.onEditClick,disabled:e.disabled,className:"btn btn-secondary mr-1",title:"Editar Producto"},n.a.createElement("i",{className:"fa fa-pencil"})),n.a.createElement("button",{onClick:e.onAddClick,className:"btn btn-info mr-1",title:"Agregar Producto"},n.a.createElement("i",{className:"fa fa-plus"})),n.a.createElement("button",{onClick:e.onCloneClick,disabled:e.disabled,className:"btn btn-secondary mr-1",title:"Clonar Producto y ocultar original"},n.a.createElement("i",{className:"fa fa-copy"})),n.a.createElement("button",{onClick:e.onDeleteClick,disabled:e.disabled,className:"btn btn-danger",title:"Borrar Producto"},n.a.createElement("i",{className:"fa fa-trash"}))))},R=a(11),x=a.n(R),I="dev",A="qa",P="prod",_={env:I,getPath:function(){switch(this.env){case I:return"";case A:case P:return"";default:console.error("Wrong operation.")}},STATUS:{SUCCESS:"SUCCESS",ERROR:"ERROR"}},T=_,D=T.getPath(),U={generateErrorResponse:function(e){return{success:!1,status:"ERROR",message:e}},handleResponse:function(e){return Object(u.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!e.data){t.next=3;break}return a=e.data,t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})))()},getProducts:function(){var e=this;return Object(u.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("".concat(D,"/api/products"));case 3:return a=t.sent,t.abrupt("return",e.handleResponse(a));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",e.generateErrorResponse(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getProductById:function(){var e=arguments,t=this;return Object(u.a)(s.a.mark((function a(){var r,n,o,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:{},n=localStorage.getItem("deliverypp_user_login_token"),o={Authorization:"Bearer ".concat(n)},a.prev=3,a.next=6,x.a.get("".concat(D,"/api/products/").concat(r),{headers:o});case 6:return c=a.sent,a.abrupt("return",t.handleResponse(c));case 10:return a.prev=10,a.t0=a.catch(3),a.abrupt("return",t.generateErrorResponse(a.t0.message));case 13:case"end":return a.stop()}}),a,null,[[3,10]])})))()},addProduct:function(){var e=arguments,t=this;return Object(u.a)(s.a.mark((function a(){var r,n,o,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:{},n=localStorage.getItem("deliverypp_user_login_token"),o={Authorization:"Bearer ".concat(n)},a.prev=3,a.next=6,x.a.post("".concat(D,"/api/products"),r,{headers:o});case 6:return c=a.sent,a.abrupt("return",t.handleResponse(c));case 10:return a.prev=10,a.t0=a.catch(3),a.abrupt("return",t.generateErrorResponse(a.t0.message));case 13:case"end":return a.stop()}}),a,null,[[3,10]])})))()},updateProduct:function(){var e=arguments,t=this;return Object(u.a)(s.a.mark((function a(){var r,n,o,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:{},n=localStorage.getItem("deliverypp_user_login_token"),o={Authorization:"Bearer ".concat(n)},a.prev=3,a.next=6,x.a.put("".concat(D,"/api/products"),r,{headers:o});case 6:return c=a.sent,a.abrupt("return",t.handleResponse(c));case 10:return a.prev=10,a.t0=a.catch(3),a.abrupt("return",t.generateErrorResponse(a.t0.message));case 13:case"end":return a.stop()}}),a,null,[[3,10]])})))()},cloneProduct:function(){var e=arguments,t=this;return Object(u.a)(s.a.mark((function a(){var r,n,o,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(r=e.length>0&&void 0!==e[0]?e[0]:{}).id=0,n=localStorage.getItem("deliverypp_user_login_token"),o={Authorization:"Bearer ".concat(n)},a.prev=4,a.next=7,x.a.post("".concat(D,"/api/products/clone"),r,{headers:o});case 7:return c=a.sent,a.abrupt("return",t.handleResponse(c));case 11:return a.prev=11,a.t0=a.catch(4),a.abrupt("return",t.generateErrorResponse(a.t0.message));case 14:case"end":return a.stop()}}),a,null,[[4,11]])})))()},deleteProductById:function(){var e=arguments,t=this;return Object(u.a)(s.a.mark((function a(){var r,n,o,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:-1,n=localStorage.getItem("deliverypp_user_login_token"),o={Authorization:"Bearer ".concat(n)},a.prev=3,a.next=6,x.a.delete("".concat(D,"/api/products/").concat(r),{headers:o});case 6:return c=a.sent,a.abrupt("return",t.handleResponse(c));case 10:return a.prev=10,a.t0=a.catch(3),a.abrupt("return",t.generateErrorResponse(a.t0.message));case 13:case"end":return a.stop()}}),a,null,[[3,10]])})))()}},L=a(236),B=a(218),F=a(219),M=a(220),z=a(221);var q=function(e){return n.a.createElement("div",null,n.a.createElement(L.a,{isOpen:e.showModal},n.a.createElement(B.a,{toggle:e.toggle},e.title),n.a.createElement(F.a,null,e.children),n.a.createElement(M.a,null,n.a.createElement(z.a,{color:"success",onClick:e.onSave},"Guardar")," ",n.a.createElement(z.a,{color:"secondary",onClick:e.onCancel},"Cancelar"))))},G=a(18);var H=function(e){var t=Object(j.b)((function(e){return e.categories})),a=e.product.imageUrl?e.product.imageUrl:"product.png",r="edit"===e.action;return n.a.createElement("div",null,n.a.createElement(v.a,null,n.a.createElement(b.a,{top:!0,width:"100%",src:a}),n.a.createElement(h.a,null,n.a.createElement(w.a,null,n.a.createElement(k.a,{type:"select",name:"categorySelect",id:"categorySelect",value:e.product.category,onChange:function(t){var a=t.target.value,r=Object(G.a)({},e.product);r.category=a,e.onProductUpdate(r)}},n.a.createElement("option",null,""),t.map((function(e){e.key;var t=e.category;return n.a.createElement("option",null,t)})))),n.a.createElement(O.a,null,n.a.createElement(y.a,{for:"imageUrl"},"URL de la imagen"),n.a.createElement(k.a,{type:"url",name:"imageUrl",id:"imageUrl",value:a,onChange:function(t){var a=t.target.value;a||(a="product.png");var r=Object(G.a)({},e.product);r.imageUrl=a,e.onProductUpdate(r)}})),n.a.createElement(O.a,null,n.a.createElement(y.a,{for:"description"},"Descripci\xf3n"),n.a.createElement(k.a,{type:"textarea",name:"description",id:"description",value:e.product.description,onChange:function(t){var a=t.target.value,r=Object(G.a)({},e.product);r.description=a,e.onProductUpdate(r)}})),n.a.createElement(O.a,null,n.a.createElement(y.a,{for:"price"},"Precio"),n.a.createElement(k.a,{type:"number",name:"price",id:"price",placeholder:"Precio",disabled:r,value:e.product.price,onChange:function(t){var a=t.target.value,r=Object(G.a)({},e.product);r.price=a,e.onProductUpdate(r)}})))))},W=a(222);var Q=function(e){var t=e.show,a=e.message,r=e.color;return n.a.createElement("div",{className:"alertContainer"},n.a.createElement(W.a,{color:r,isOpen:t},a))};var V=function(){var e=Object(r.useState)((function(){return!0})),t=Object(i.a)(e,2),a=(t[0],t[1],Object(r.useState)((function(){return-1}))),o=Object(i.a)(a,2),c=o[0],l=o[1],m=Object(r.useState)((function(){return[]})),d=Object(i.a)(m,2),p=d[0],f=d[1],g=Object(r.useState)((function(){return[]})),v=Object(i.a)(g,2),b=v[0],h=v[1],w=Object(r.useState)((function(){return!1})),O=Object(i.a)(w,2),y=O[0],k=O[1],j=Object(r.useState)((function(){return"add"})),N=Object(i.a)(j,2),R=N[0],x=N[1],I=Object(r.useState)((function(){return{description:"",price:0,imageUrl:"",category:""}})),A=Object(i.a)(I,2),P=A[0],_=A[1],T=Object(r.useState)((function(){return""})),D=Object(i.a)(T,2),L=D[0],B=D[1],F=Object(r.useState)((function(){return""})),M=Object(i.a)(F,2),z=M[0],G=M[1],W=Object(r.useState)((function(){return{color:"success",show:!1,message:""}})),V=Object(i.a)(W,2),$=V[0],J=V[1],K=function(e){J(e),setTimeout((function(){J({color:"success",show:!1,message:""})}),2e3)},Y=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getProducts();case 2:(t=e.sent)&&t.success?(a=t.response,f(a),h(a)):(console.error("Error getting products"),K({color:"warning",message:"Error obteniendo productos."}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.addProduct(P);case 2:(t=e.sent)&&t.success?(a=t.response,r=[a].concat(Object(E.a)(p)),f(r),re(z,L,r),K({color:"success",message:"Producto agregado."}),k(!1)):(console.error("Error getting products"),K({color:"warning",message:"Error agregando producto."}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.updateProduct(P);case 2:(t=e.sent)&&t.success?(a=t.response,(r=Object(E.a)(p)).forEach((function(e){if(e.id===a.id)return e.description=a.description,e.price=a.price,e.category=a.category,e.imageUrl=a.imageUrl,!1})),f(r),re(z,L,r),K({color:"success",message:"Producto agregado."}),k(!1)):(console.error("Error adding products."),K({color:"warning",message:"Error agregando producto."}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.cloneProduct(P);case 2:(t=e.sent)&&t.success?(a=t.response,r=[a].concat(Object(E.a)(p)),f(r),re(z,L,r),K({color:"success",message:"Producto clonado."}),k(!1)):(console.error("Error cloning product"),K({color:"warning",message:"Error clonando producto."}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){Y()}),[]);var te=function(e){_(e),l(e.id)},ae=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Seguro quiere borrar el producto seleccionado?")){e.next=6;break}return e.next=4,U.deleteProductById(c);case 4:(t=e.sent)&&t.success?(K({color:"success",message:"Producto eliminado."}),a=p.filter((function(e){return e.id!==c})),f(a),re(z,L,a)):(console.error("Error deleting product."),K({color:"warning",message:"Error eliminando producto."}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(e,t){var a=function(e,t){return e?t.filter((function(t){return t.category===e})):t}(e,p);a=function(e,t){return e?t.filter((function(t){for(var a=0,r=Object.keys(t);a<r.length;a++){var n=r[a];if("category"===n||"price"===n||"description"===n){var o=t[n];if(o&&(o=""+o).toLowerCase().includes(e.toLowerCase()))return!0}}return!1})):t}(t,a),h(a)};return n.a.createElement("div",{className:"ProductView"},n.a.createElement(Q,$),n.a.createElement(q,{onSave:function(){switch(R){case"add":X();break;case"edit":Z();break;case"clone":ee();break;default:console.error("Wrong operation.")}},onCancel:function(){k(!1)},showModal:y,toggle:function(){k(!y)},title:function(){switch(R){case"add":return"Agregar producto";case"edit":return"Editar producto";case"clone":return"Clonar producto y ocultar original";default:console.error("Wrong operation.")}}()},n.a.createElement(H,{imageUrl:"product.png",action:R,onProductUpdate:function(e){_(e)},product:P})),n.a.createElement(S,{onSearch:function(e){var t=e.target.value,a=B(t);console.error("returnedFromSetFilter",a),re(z,t,p)},onEditClick:function(){x("edit"),k(!0)},onAddClick:function(){x("add"),_({description:"",price:0,imageUrl:"",category:""}),k(!0)},onCloneClick:function(){x("clone"),k(!0)},onDeleteClick:ae,disabled:-1===c,onCategoryChange:function(e){G(e),re(e,L,p)}}),n.a.createElement("div",null,n.a.createElement("div",{className:"ProductCardContainer"},b.map((function(e){var t=e.id===c?"selected":"";return n.a.createElement(C,{key:e.id,product:e,onClick:te,selected:t})})))))},$=(a(58),T.getPath()),J={generateErrorResponse:function(e){return{success:!1,status:"ERROR",message:e}},handleResponse:function(e){if(e&&e.data)return e.data},getOrders:function(){var e=this;return Object(u.a)(s.a.mark((function t(){var a,r,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("deliverypp_user_login_token"),r={Authorization:"Bearer ".concat(a)},t.next=5,x.a.get("".concat($,"/api/orders"),{headers:r});case 5:return n=t.sent,t.abrupt("return",e.handleResponse(n));case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",e.generateErrorResponse(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getOrderById:function(e){var t=this;return Object(u.a)(s.a.mark((function a(){var r,n,o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=localStorage.getItem("deliverypp_user_login_token"),n={Authorization:"Bearer ".concat(r)},a.next=5,x.a.get("".concat($,"/api/orders/").concat(e),{headers:n});case 5:return o=a.sent,a.abrupt("return",t.handleResponse(o));case 9:return a.prev=9,a.t0=a.catch(0),a.abrupt("return",t.generateErrorResponse(a.t0.message));case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},addOrder:function(e){var t=this;return Object(u.a)(s.a.mark((function a(){var r,n,o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=localStorage.getItem("deliverypp_user_login_token"),n={Authorization:"Bearer ".concat(r)},a.next=5,x.a.post("".concat($,"/api/orders"),e,{headers:n});case 5:return o=a.sent,a.abrupt("return",t.handleResponse(o));case 9:return a.prev=9,a.t0=a.catch(0),a.abrupt("return",t.generateErrorResponse(a.t0.message));case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},updateStatus:function(e,t){var a=this;return Object(u.a)(s.a.mark((function r(){var n,o,c;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=localStorage.getItem("deliverypp_user_login_token"),o={Authorization:"Bearer ".concat(n)},r.next=5,x.a.put("".concat($,"/api/orders/").concat(e,"/status/").concat(t),{headers:o});case 5:return c=r.sent,r.abrupt("return",a.handleResponse(c));case 9:return r.prev=9,r.t0=r.catch(0),r.abrupt("return",a.generateErrorResponse(r.t0.message));case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()}},K=a(223),Y={statusMap:{ORDERED:"danger",PAID:"info",ACQUIRING:"secondary",ACQUIRED:"primary",TRANSIT:"warning",DELIVERED:"success"},getClassStatusClass:function(e){return this.statusMap[e]}},X={ORDERED:"Ordenado",PAID:"Pagado",ACQUIRING:"Adquiriendo",ACQUIRED:"Adquirido",TRANSIT:"Tr\xe1nsito",DELIVERED:"Entregado"};var Z=function(e){var t=Object(r.useState)(null),a=Object(i.a)(t,2),o=a[0],c=a[1],l=function(t){e.onColumnClick(t)};return n.a.createElement("div",{className:"OrderTable"},n.a.createElement(K.a,{bordered:!0,hover:!0,responsive:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{onClick:function(){return l("id")}},"Id"),n.a.createElement("th",{onClick:function(){return l("status")}},"Estado"),n.a.createElement("th",{onClick:function(){return l("username")}},"Usuario"),n.a.createElement("th",{onClick:function(){return l("email")}},"Email"),n.a.createElement("th",{onClick:function(){return l("telephone")}},"Tel\xe9fono"),n.a.createElement("th",{onClick:function(){return l("createdAt")}},"Fecha"),n.a.createElement("th",{onClick:function(){return l("total")}},"Total"),n.a.createElement("th",{onClick:function(){return l("comment")}},"Comentario"))),n.a.createElement("tbody",null,e.orders.map((function(t){return n.a.createElement("tr",{className:"order-row ".concat(o&&o.id===t.id?"selected":""),key:t.id,onClick:function(){return function(t){c(t),e.onRowClick(t.id)}(t)}},n.a.createElement("td",null,t.id),n.a.createElement("td",{className:"text-".concat(Y.getClassStatusClass(t.status))},X[t.status]),n.a.createElement("td",null,t.username),n.a.createElement("td",null,t.email),n.a.createElement("td",null,t.telephone),n.a.createElement("td",null,t.createdAt),n.a.createElement("td",null,t.total),n.a.createElement("td",null,t.comment))})))))};var ee=function(e){var t=e.orderStatus,a=e.onOrderStatusChange;return n.a.createElement("div",{className:"d-flex flex-row justify-content-center align-items-cente mr-2"},n.a.createElement(y.a,{className:"mr-2",htmlFor:"statusSelect"},"Estado"),n.a.createElement(k.a,{style:{borderWidth:2},className:"border-".concat(Y.getClassStatusClass(t)),type:"select",id:"statusSelect",value:t,onChange:a},n.a.createElement("option",{value:""}),n.a.createElement("option",{value:"ORDERED"},"Ordenado"),n.a.createElement("option",{value:"PAID"},"Pagado"),n.a.createElement("option",{value:"ACQUIRING"},"Adquiriendo"),n.a.createElement("option",{value:"ACQUIRED"},"Adquirido"),n.a.createElement("option",{value:"TRANSIT"},"En Tr\xe1nsito"),n.a.createElement("option",{value:"DELIVERED"},"Entregado")))};var te=function(e){var t=e.orderLines,a=Object(r.useState)(t.map((function(e){return Object(G.a)({},e,{imageHidden:!0})}))),o=Object(i.a)(a,2),c=o[0],l=o[1],s=function(e){var t=c.map((function(t){return t.product.id===e&&(t.imageHidden=!t.imageHidden),t}));l(t)};return n.a.createElement(n.a.Fragment,null,c.map((function(e){var t=e.quantity,a=e.product,r=e.imageHidden;return n.a.createElement(v.a,{key:a.id,style:{marginBottom:4,marginTop:4},className:"shadow p-2 mb-2 bg-white"},r&&n.a.createElement("div",{className:"imageIconContainer text-center",title:"Mostrar image del producto",onClick:function(){return s(a.id)}},n.a.createElement("i",{className:"fas fa-image",style:{fontSize:24,color:"grey"}})),!r&&n.a.createElement(b.a,{top:!0,width:"100%",src:a.imageUrl,alt:a.description,onClick:function(){return s(a.id)},title:"Ocultar imagel del producto",className:"cardImgElem"}),n.a.createElement(h.a,null,n.a.createElement(w.a,{className:"text-center font-weight-bold"},a.description),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group row border-bottom"},n.a.createElement("label",{htmlFor:"idPrice",className:"col-6 col-form-label"},"Precio"),n.a.createElement("label",{htmlFor:"idPrice",className:"col-sm-6 col-form-label"},"RD$",a.price)),n.a.createElement("div",{className:"form-group row border-bottom"},n.a.createElement("label",{htmlFor:"quantityProp",className:"col-sm-6 col-form-label"},"Cantidad"),n.a.createElement("label",{htmlFor:"quantityProp",className:"col-sm-6 col-form-label"},t)),n.a.createElement("div",{className:"form-group row border-bottom"},n.a.createElement("label",{htmlFor:"totalProp",className:"col-sm-6 col-form-label font-weight-bold"},"Total"),n.a.createElement("label",{htmlFor:"totalProp",className:"col-sm-6 col-form-label font-weight-bold text-success"},"RD$",a.price*t)))))})))},ae=a(24);var re=Object(ae.GoogleApiWrapper)({apiKey:"AIzaSyC1wC2ImcL1s4wITbDbM-g3nLK01fJHGkc"})((function(e){var t=e.google,a=e.location;return n.a.createElement("div",{style:{height:400,padding:0,position:"relative"}},n.a.createElement(ae.Map,{google:t,zoom:14,initialCenter:{lat:a.latitude,lng:a.longitude}},n.a.createElement(ae.Marker,{name:"Current location"})))}));var ne=function(e){var t=e.total;return n.a.createElement("div",{className:"form-group row p-1"},n.a.createElement("label",{htmlFor:"generalTotalProp",className:"col-sm-4 col-form-label font-weight-bold"},"Total"),n.a.createElement("label",{htmlFor:"generalTotalProp",className:"col-sm-4 col-form-label font-weight-bold text-success"},"RD$",t))};function oe(e){var t=e.user,a=t.id,r=t.username,o=t.name,c=t.lastName,l=t.email,s=t.telephone;return n.a.createElement("div",{className:"shadow bg-white mt-2"},n.a.createElement("form",{className:"p-4"},n.a.createElement("div",{className:"form-group row border-bottom"},n.a.createElement("label",{htmlFor:"idProp",className:"col-sm-6 col-form-label font-weight-bold"},"#:"),n.a.createElement("label",{htmlFor:"idProp",className:"col-sm-6 col-form-label font-weight-bold"},a)),n.a.createElement("div",{className:"form-group row border-bottom"},n.a.createElement("label",{htmlFor:"usernameProp",className:"col-sm-6 col-form-label"},"Usuario:"),n.a.createElement("label",{htmlFor:"usernameProp",className:"col-sm-6 col-form-label"},r)),n.a.createElement("div",{className:"form-group row border-bottom"},n.a.createElement("label",{htmlFor:"nameProp",className:"col-sm-6 col-form-label"},"Nombre: "),n.a.createElement("label",{htmlFor:"nameProp",className:"col-sm-6 col-form-label"},o," ",c)),n.a.createElement("div",{className:"form-group row border-bottom"},n.a.createElement("label",{htmlFor:"emailProp",className:"col-sm-6 col-form-label"},"Email: "),n.a.createElement("label",{htmlFor:"emailProp",className:"col-sm-6 col-form-label"},l)),n.a.createElement("div",{className:"form-group row border-bottom"},n.a.createElement("label",{htmlFor:"telephoneProp",className:"col-sm-6 col-form-label"},"Tel\xe9fono: "),n.a.createElement("label",{htmlFor:"telephoneProp",className:"col-sm-6 col-form-label"},s))))}var ce=function(e){var t=e.onClose,a=e.showModal,o=e.toggleShowModal,c=e.order,l=e.showAlert,E=e.onOrderStatusChange,v=c.orderLines,b=c.id,h=c.location,w=c.status,C=c.total,y=Object(r.useState)((function(){return"orderProductsDetails"})),k=Object(i.a)(y,2),j=k[0],N=k[1],S=function(e){j!==e&&N(e)},R=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.next=3,J.updateStatus(b,a);case 3:(r=e.sent)&&r.success?E(b,a):(console.error("Error updating status."),l({color:"warning",message:"Error actualizando el estado."}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement(L.a,{isOpen:a},n.a.createElement(B.a,{toggle:o},n.a.createElement(O.a,null,"Order #: ",b),n.a.createElement(O.a,null,"Productos ordenados"),n.a.createElement(ee,{orderStatus:w,onOrderStatusChange:R})),n.a.createElement(F.a,null,n.a.createElement(f.a,{tabs:!0},n.a.createElement(m.a,null,n.a.createElement(d.a,{style:{cursor:"pointer"},className:"orderProductsDetails"===j?"active":"",onClick:function(){return S("orderProductsDetails")}},"Productos")),n.a.createElement(m.a,null,n.a.createElement(d.a,{style:{cursor:"pointer"},className:"orderProductsLocation"===j?"active":"",onClick:function(){return S("orderProductsLocation")}},"Localizaci\xf3n")),n.a.createElement(m.a,null,n.a.createElement(d.a,{style:{cursor:"pointer"},className:"customer"===j?"active":"",onClick:function(){return S("customer")}},"Cliente"))),n.a.createElement(g.a,{activeTab:j},n.a.createElement(p.a,{tabId:"orderProductsDetails"},n.a.createElement(ne,{total:C}),n.a.createElement("div",null,n.a.createElement(te,{orderLines:v})),n.a.createElement(ne,{total:C})),n.a.createElement(p.a,{tabId:"orderProductsLocation"},n.a.createElement("div",{className:"mt-2"},n.a.createElement(re,{location:h}))),n.a.createElement(p.a,{tabId:"customer"},n.a.createElement(oe,{user:c.user})))),n.a.createElement(M.a,null,n.a.createElement(z.a,{color:"success",onClick:t},"Cerrar")," ")))};var le=Object(ae.GoogleApiWrapper)({apiKey:"AIzaSyC1wC2ImcL1s4wITbDbM-g3nLK01fJHGkc"})((function(e){var t=e.google,a=e.locations,r=e.onMarkerClick,o=void 0===r?function(){}:r;return n.a.createElement("div",{style:{height:400,padding:0,position:"relative"}},n.a.createElement(ae.Map,{google:t,zoom:11,initialCenter:{lat:18.486057,lng:-69.931213}},a.map((function(e){return n.a.createElement(ae.Marker,{key:e.id,title:"The marker`s title will appear as a tooltip.",name:"SOMA",position:{lat:e.latitude,lng:e.longitude},onClick:function(){return o(e.id)}})}))))}));var se=function(e){var t=e.onSearch,a=e.orderStatus,r=e.onOrderStatusChange;return n.a.createElement("div",{className:"Toolbar p-2 border rounded"},n.a.createElement("div",{className:"searchInputContainer p-1"},n.a.createElement("div",{className:"input-group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text",id:"inputGroupPrepend2"},n.a.createElement("i",{className:"fa fa-search"}))),n.a.createElement("input",{onChange:t,type:"text",className:"form-control",placeholder:"Buscar","aria-describedby":"inputGroupPrepend2",required:!0}),n.a.createElement("div",{className:"ml-2"},n.a.createElement(ee,{orderStatus:a,onOrderStatusChange:r})))))},ue={id:!1,username:!1,email:!1,telephone:!1,createdAt:!1,total:!1,comment:!1};var ie=function(e){var t=e.showAlert,a=Object(r.useState)((function(){return[]})),o=Object(i.a)(a,2),c=o[0],l=o[1],m=Object(r.useState)((function(){return[]})),d=Object(i.a)(m,2),p=d[0],f=d[1],g=Object(r.useState)((function(){return{orderLines:[],locations:[]}})),v=Object(i.a)(g,2),b=v[0],h=v[1],w=Object(r.useState)((function(){return!1})),O=Object(i.a)(w,2),C=O[0],y=O[1],k=Object(r.useState)((function(){return""})),j=Object(i.a)(k,2),N=j[0],S=j[1],R=function(e){return e.map((function(e){var t=e.user,a=t.username,r=t.email,n=t.telephone,o=e.status,c=e.id,l=e.createdAt;return{id:c,status:o,total:e.total,comment:e.comment,createdAt:l,username:a,email:r,telephone:n}}))},x=function(){var e=Object(u.a)(s.a.mark((function e(){var a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getOrders();case 2:(a=e.sent)&&a.success?(r=a.response,l(r),n=R(r),f(n)):(console.error("Error getting orders.",a),t({color:"warning",message:"Error getting orders."}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){x()}),[]),n.a.createElement("div",{className:"OrderView"},n.a.createElement(le,{locations:c.map((function(e){return e.location})),onMarkerClick:function(e){var t=c.find((function(t){return t.location.id===e}));t&&(h(t),y(!0))}}),n.a.createElement(ce,{showModal:C,toggleShowModal:function(){y(!C)},onClose:function(){y(!1)},showAlert:t,onOrderStatusChange:function(e,t){var a=c.map((function(a){return a.id===e&&(a.status=t),a}));l(a);var r=p.map((function(a){if(a.id===e){a.status=t;var r=c.find((function(t){return t.id===e}));h(r)}return a}));f(r)},order:b}),n.a.createElement("div",null,n.a.createElement(se,{onSearch:function(e){var t=e.target.value,a=R(c);if(t){var r=a.filter((function(e){for(var a=0,r=Object.keys(e);a<r.length;a++){var n=e[r[a]];if(n&&(n=""+n).includes(t))return!0}}));f(r)}else f(a)},orderStatus:N,onOrderStatusChange:function(e){var t=e.target.value,a=R(c);if(!t)return S(""),f(a);var r=a.filter((function(e){return e.status===t}));S(t),f(r)}})),n.a.createElement("div",{className:"Container mt-1"},n.a.createElement(Z,{orders:p,onRowClick:function(e){var t=c.find((function(t){return t.id===e}));t&&(h(t),y(!0))},onColumnClick:function(e){var t=ue[e],a=function(e,t){return e<t?1:e>t?-1:0},r=R(c);r.sort((function(r,n){var o=r[e],c=n[e];return t?a(o,c):a(c,o)})),ue[e]=!t;var n=Object(E.a)(r);f(n)}})))};a(131);var me=function(e){var t=e.onEditClick,a=e.onAddClick,r=e.onDeleteClick;return n.a.createElement("div",{className:"actionButtonsContainer p-1"},n.a.createElement("button",{onClick:t,disabled:!0,className:"btn btn-secondary mr-1",title:"Editar"},n.a.createElement("i",{className:"fa fa-pencil"})),n.a.createElement("button",{onClick:a,disabled:!0,className:"btn btn-info mr-1",title:"Agregar"},n.a.createElement("i",{className:"fa fa-plus"})),n.a.createElement("button",{onClick:r,disabled:!0,className:"btn btn-danger",title:"Borrar"},n.a.createElement("i",{className:"fa fa-trash"})))};var de=function(e){var t=Object(j.b)((function(e){return e.categories}));return n.a.createElement("div",{className:"CategoryTable"},n.a.createElement("div",{className:"float-right"},n.a.createElement(me,null)),n.a.createElement(K.a,{bordered:!0,hover:!0,responsive:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Id"),n.a.createElement("th",null,"Clave"),n.a.createElement("th",null,"Categor\xeda"))),n.a.createElement("tbody",null,t.map((function(e){var t=e.id,a=e.key,r=e.category;return n.a.createElement("tr",{key:t},n.a.createElement("td",null,t),n.a.createElement("td",null,a),n.a.createElement("td",null,r))})))))};var pe=function(e){var t=Object(r.useState)("product"),a=Object(i.a)(t,2),o=a[0],c=a[1],l=function(e){o!==e&&c(e)};return n.a.createElement("div",{className:"container-md p-1 border mb-8"},n.a.createElement(f.a,{tabs:!0},e.isUserLoggedIn&&"ADMIN"===e.user.role&&n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,null,n.a.createElement(d.a,{style:{cursor:"pointer"},className:"product"===o?"active":"",onClick:function(){l("product")}},"Productos")),n.a.createElement(m.a,null,n.a.createElement(d.a,{style:{cursor:"pointer"},className:"orders"===o?"active":"",onClick:function(){l("orders")}},"Ordenes")),n.a.createElement(m.a,null,n.a.createElement(d.a,{style:{cursor:"pointer"},className:"categories"===o?"active":"",onClick:function(){l("categories")}},"Categor\xedas")))),n.a.createElement(g.a,{activeTab:o},e.isUserLoggedIn&&"ADMIN"===e.user.role&&n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,{tabId:"product"},n.a.createElement(V,{showAlert:e.showAlert})),n.a.createElement(p.a,{tabId:"orders"},n.a.createElement(ie,{showAlert:e.showAlert})),n.a.createElement(p.a,{tabId:"categories"},n.a.createElement(de,{showAlert:e.showAlert})))))},fe=a(229),ge=a(230);var Ee=function(e){var t=e.onSignInClick,a=e.onLogOutClick,r=e.isUserLoggedIn,o=e.user;return n.a.createElement("div",{className:"NavBar"},n.a.createElement(fe.a,{color:"light",light:!0,expand:"md"},n.a.createElement(ge.a,{href:"/"},n.a.createElement("span",{style:{color:"#940205"}},"Deliverypp")),n.a.createElement(f.a,{className:"mr-auto",navbar:!0}),r?n.a.createElement("div",null,n.a.createElement("span",{className:"mr-1"},o.name),n.a.createElement(z.a,{outline:!0,title:"Salir",onClick:a,className:"mr-1"},n.a.createElement("i",{className:"fas fa-sign-out-alt"}))):n.a.createElement("div",null,n.a.createElement(z.a,{outline:!0,title:"Entrar",onClick:t,className:"mr-1"},n.a.createElement("i",{className:"fas fa-sign-in-alt"})))))};a(132);var ve=function(){return n.a.createElement("footer",{className:"Footer"},n.a.createElement("div",{className:"footer-copyright text-center py-3"},"\xa9 2020 Copyright:",n.a.createElement("a",{href:"/"}," Deliverypp.com")))},be=a(232),he=a(233),we=a(234),Oe=a(235),Ce=T.getPath(),ye={generateErrorResponse:function(e){var t=e.message;return t.includes("401")&&(t="Credenciales incorrectas. Verifique que su usuario y contrase\xf1a son correctos."),{success:!1,status:"ERROR",message:t}},handleResponse:function(e){if(e&&e.data)return e.data},register:function(e){var t=this;return Object(u.a)(s.a.mark((function a(){var r,n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x.a.post("".concat(Ce,"/api/register"),e);case 3:return r=a.sent,n=t.handleResponse(r),a.abrupt("return",n);case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",t.generateErrorResponse(a.t0));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},login:function(e){var t=this;return Object(u.a)(s.a.mark((function a(){var r,n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x.a.post("".concat(Ce,"/api/login"),e);case 3:return r=a.sent,n=t.handleResponse(r),a.abrupt("return",n);case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",t.generateErrorResponse(a.t0));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},getUserByToken:function(e){var t=this;return Object(u.a)(s.a.mark((function a(){var r,n,o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={Authorization:"Bearer ".concat(e)},a.next=4,x.a.get("".concat(Ce,"/api/auth/").concat(e),r);case 4:return n=a.sent,o=t.handleResponse(n),a.abrupt("return",o);case 9:return a.prev=9,a.t0=a.catch(0),a.abrupt("return",t.generateErrorResponse(a.t0));case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},logout:function(e){var t=this;return Object(u.a)(s.a.mark((function a(){var r,n,o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={Authorization:"Bearer ".concat(e)},a.next=4,x.a.get("".concat(Ce,"/api/auth/").concat(e),r);case 4:return n=a.sent,o=t.handleResponse(n),a.abrupt("return",o);case 9:return a.prev=9,a.t0=a.catch(0),a.abrupt("return",t.generateErrorResponse(a.t0));case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()}},ke=a(231);a(59);var je=function(e){return n.a.createElement("div",{className:"Loader"},n.a.createElement(ke.a,{color:"light",style:{width:"4rem",height:"4rem"}}),n.a.createElement("span",{style:{color:"#fff"}}," Espere..."))};var Ne=function(e){var t=e.onLogin,a=void 0===t?function(){}:t,o=Object(r.useState)({username:!1,password:!1}),c=Object(i.a)(o,2),l=c[0],m=c[1],d=Object(r.useState)(""),p=Object(i.a)(d,2),f=p[0],g=p[1],E=Object(r.useState)(""),v=Object(i.a)(E,2),b=v[0],h=v[1],w=Object(r.useState)(!1),O=Object(i.a)(w,2),C=O[0],j=O[1],N=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={username:f,password:b},j(!0),e.next=5,ye.login(r);case 5:n=e.sent,setTimeout((function(){j(!1),a(n)}),1e3);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){if(!l[e]){var t=Object(G.a)({},l);t[e]=!0,m(t)}},R=!!f,x=!!b&&b.length>5;return n.a.createElement(be.a,{className:"form position-relative p-2"},C&&n.a.createElement(je,null),n.a.createElement(he.a,null,n.a.createElement(we.a,null,n.a.createElement(y.a,{for:"username"},"Usuario"),n.a.createElement(k.a,{valid:l.username&&R,invalid:l.username&&!R,type:"text",name:"username",id:"username",value:f,onChange:function(e){S("username");var t=e.target.value;g(t)}}),l.username&&n.a.createElement(Oe.a,null,"El nombre de usuario no puede estar vac\xedo."))),n.a.createElement(he.a,null,n.a.createElement(we.a,null,n.a.createElement(y.a,{for:"password"},"Contrase\xf1a"),n.a.createElement(k.a,{valid:l.password&&x,invalid:l.password&&!x,type:"password",name:"password",id:"examplePassword",placeholder:"********",value:b,onChange:function(e){S("password");var t=e.target.value;h(t)}}),l.password&&n.a.createElement(Oe.a,null,"Introduce una contrase\xf1a de m\xe1s de 5 caracteres."))),n.a.createElement(z.a,{disabled:!(R&&x),onClick:N},"Entrar"))},Se=a(73),Re=a.n(Se);var xe=function(e){var t=e.onRegister,a=void 0===t?function(){}:t,o=Object(r.useState)({username:!1,email:!1,password:!1,name:!1,telephone:!1}),c=Object(i.a)(o,2),l=c[0],m=c[1],d=Object(r.useState)(""),p=Object(i.a)(d,2),f=p[0],g=p[1],E=Object(r.useState)(""),v=Object(i.a)(E,2),b=v[0],h=v[1],w=Object(r.useState)(""),O=Object(i.a)(w,2),C=O[0],j=O[1],N=Object(r.useState)(""),S=Object(i.a)(N,2),R=S[0],x=S[1],I=Object(r.useState)(""),A=Object(i.a)(I,2),P=A[0],_=A[1],T=Object(r.useState)(""),D=Object(i.a)(T,2),U=D[0],L=D[1],B=Object(r.useState)(!1),F=Object(i.a)(B,2),M=F[0],q=F[1],H=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={name:R,username:f,email:b,password:C,lastName:P,telephone:U},q(!0),e.next=5,ye.register(r);case 5:(n=e.sent)&&n.token&&localStorage.setItem("deliverypp_user_login_token",n.token),W(),setTimeout((function(){q(!1),a(n)}),1e3);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){g(""),h(""),j(""),x(""),_(""),L(""),m({username:!1,email:!1,password:!1,name:!1,telephone:!1})},Q=function(e){if(!l[e]){var t=Object(G.a)({},l);t[e]=!0,m(t)}},V=!!b&&Re.a.isEmail(b),$=!!f,J=!!R,K=!!C&&C.length>5,Y=!!U&&10===U.length;return n.a.createElement(be.a,{className:"form position-relative p-2"},M&&n.a.createElement(je,null),n.a.createElement(he.a,null,n.a.createElement(we.a,null,n.a.createElement(y.a,{for:"register_username"},"Usuario"),n.a.createElement(k.a,{valid:l.username&&$,invalid:l.username&&!$,type:"text",name:"register_username",id:"register_username",required:!0,value:f,onChange:function(e){Q("username");var t=e.target.value;g(t)}}),l.username&&n.a.createElement(Oe.a,null,"El nombre de usuario no puede estar vac\xedo."))),n.a.createElement(he.a,null,n.a.createElement(we.a,null,n.a.createElement(y.a,{for:"email"},"Email"),n.a.createElement(k.a,{valid:l.email&&V,invalid:l.email&&!V,type:"email",name:"email",id:"exampleEmail",placeholder:"youremail@email.com",required:!0,value:b,onChange:function(e){Q("email");var t=e.target.value;h(t)}}),l.email&&n.a.createElement(Oe.a,null,"Introduce un email v\xe1lido."))),n.a.createElement(he.a,null,n.a.createElement(we.a,null,n.a.createElement(y.a,{for:"password"},"Contrase\xf1a"),n.a.createElement(k.a,{valid:l.password&&K,invalid:l.password&&!K,type:"password",name:"password",id:"password",placeholder:"********",value:C,onChange:function(e){Q("password");var t=e.target.value;j(t)},required:!0}),l.password&&n.a.createElement(Oe.a,null,"Introduce una contrase\xf1a de m\xe1s de 5 caracteres."))),n.a.createElement(he.a,null,n.a.createElement(we.a,null,n.a.createElement(y.a,{for:"name"},"Nombre"),n.a.createElement(k.a,{valid:l.name&&J,invalid:l.name&&!J,type:"text",name:"name",id:"name",value:R,onChange:function(e){Q("name");var t=e.target.value;x(t)},required:!0}),l.name&&n.a.createElement(Oe.a,null,"El nombre no puede estar vac\xedo."))),n.a.createElement(he.a,null,n.a.createElement(we.a,null,n.a.createElement(y.a,{for:"lastname"},"Apellido"),n.a.createElement(k.a,{type:"text",name:"lastname",id:"lastname",value:P,onChange:function(e){var t=e.target.value;_(t)},required:!0}))),n.a.createElement(he.a,null,n.a.createElement(we.a,null,n.a.createElement(y.a,{for:"telephone"},"Tel\xe9fono"),n.a.createElement(k.a,{valid:l.telephone&&Y,invalid:l.telephone&&!Y,type:"number",name:"telephone",id:"telephone",value:U,onChange:function(e){Q("telephone");var t=e.target.value;L(t)},placeholder:"8095005000",required:!0}),l.name&&n.a.createElement(Oe.a,null,"Introduce un tel\xe9fono v\xe1lido."))),n.a.createElement(z.a,{disabled:!(V&&$&&J&&K&&Y),onClick:H},"Registrarse"))};a(206);var Ie=function(e){var t=Object(r.useState)("login"),a=Object(i.a)(t,2),o=a[0],c=a[1],l=function(e){o!==e&&c(e)},s="grey",u="grey";return"login"===o?s=e.color:"register"===o&&(u=e.color),n.a.createElement("div",{className:"RegisterLoginTab"},n.a.createElement(L.a,{isOpen:e.showModal},n.a.createElement(B.a,{toggle:e.toggle},"Entrar"),n.a.createElement(F.a,null,n.a.createElement(f.a,{tabs:!0},n.a.createElement(m.a,null,n.a.createElement(d.a,{style:{cursor:"pointer"},className:"login"===o?"active":"",onClick:function(){l("login")}},"Entrar ",n.a.createElement("i",{className:"fas fa-user",style:{color:s}}))),n.a.createElement(m.a,null,n.a.createElement(d.a,{style:{cursor:"pointer"},className:"register"===o?"active":"",onClick:function(){l("register")}},"Registrarse ",n.a.createElement("i",{className:"fas fa-sign-in-alt",style:{color:u}})))),n.a.createElement(g.a,{activeTab:o},n.a.createElement(p.a,{tabId:"login"},n.a.createElement(Ne,{onLogin:function(t){if(t?t&&!t.success&&e.showAlert({color:"warning",message:t.message}):e.showAlert({color:"warning",message:"Hubo un error durante el ingreso. Trate luego."}),t&&t.success&&t.response){var a=t.response;a.token&&(localStorage.setItem("deliverypp_user_login_token",a.token),e.toggle(),e.onLogin(a.user))}else e.showAlert({color:"warning",message:"Hubo un error durante el ingreso. Trate luego."})},color:e.color})),n.a.createElement(p.a,{tabId:"register"},n.a.createElement(xe,{onRegister:function(t){t?t&&!t.success&&e.showAlert({color:"warning",message:t.message}):e.showAlert({color:"warning",message:"Hubo un error durante el registro. Trate luego."}),t&&t.success?c("login"):e.showAlert({color:"warning",message:"Hubo un error durante el registro. Trate luego."})},color:e.color}))))))};var Ae=function(e){return n.a.createElement("div",{className:"Loader"},n.a.createElement(ke.a,{type:"grow",color:"dark",style:{width:"4rem",height:"4rem"}}),n.a.createElement("span",{style:{color:"#fff"}}," Espere..."))},Pe=a(74),_e=a(23);function Te(){return n.a.createElement("div",null,"La p\xe1gina no fue encontrada")}var De=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(r.useState)(!1),l=Object(i.a)(c,2),m=l[0],d=l[1],p=Object(r.useState)("Registered"),f=Object(i.a)(p,2),g=f[0],E=f[1],v=Object(r.useState)("info"),b=Object(i.a)(v,2),h=b[0],w=b[1],O=Object(r.useState)(!0),C=Object(i.a)(O,2),y=C[0],k=C[1],j=Object(r.useState)(!1),N=Object(i.a)(j,2),S=N[0],R=N[1],x=Object(r.useState)({}),I=Object(i.a)(x,2),A=I[0],P=I[1];Object(r.useEffect)((function(){var e=localStorage.getItem("deliverypp_user_login_token");S||function(){var t=Object(u.a)(s.a.mark((function t(){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=8;break}return t.next=3,ye.getUserByToken(e);case 3:(a=t.sent)&&a.response?(r=a.response,a.success&&(P(r),R(!0))):R(!1),setTimeout((function(){k(!1)}),1e3),t.next=11;break;case 8:R(!1),setTimeout((function(){k(!1)}),1e3),R(!1);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[S]);var _=function(e){var t=e.color,a=e.message;w(t),E(a),d(!0),setTimeout((function(){w("info"),d(!1),E("")}),3e3)};return y?n.a.createElement(Ae,null):n.a.createElement(Pe.a,null,n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"alertContainer"},n.a.createElement(W.a,{color:h,isOpen:m,toggle:function(){d(!1)}},g)),n.a.createElement(Ee,{isUserLoggedIn:S,user:A,onSignInClick:function(){return o(!0)},onLogOutClick:function(){k(!0);var e=localStorage.getItem("deliverypp_user_login_token");ye.logout(e),localStorage.removeItem("deliverypp_user_login_token"),P({}),R(!1),setTimeout((function(){k(!1)}),1e3)},color:"#940205"}),a&&n.a.createElement(Ie,{showModal:a,toggle:function(){o(!a)},color:"#940205",showAlert:_,onLogin:function(e){k(!0),P(e),R(!0),setTimeout((function(){k(!1)}),1e3)}}),n.a.createElement(_e.c,null,n.a.createElement(_e.a,{exact:!0,path:"/",component:function(){return n.a.createElement(pe,{showAlert:_,color:"#940205",isUserLoggedIn:S,user:A})}}),n.a.createElement(_e.a,{component:Te})),n.a.createElement(ve,{color:"#940205"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(208);var Ue=a(27),Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CATEGORIES":var a=t.payload.categories;return a;case"ADD_CATEGORY":var r=t.payload.category;return[].concat(Object(E.a)(e.categories),[r]);case"DELETE_CATEGORY":var n=t.payload.category,o=e.categories.filter((function(e){return e.id!==n.id}));return o;case"UPDATE_CATEGORY":var c=t.payload.category,l=e.categories.map((function(e){if(e.id===c.id)return c}));return l;default:return e}},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return!e;default:return e}},Fe=Object(Ue.c)({categories:Le,isLoggedIn:Be}),Me=a(76),ze=T.getPath(),qe={generateErrorResponse:function(e){return{success:!1,status:"ERROR",message:e}},handleResponse:function(e){if(e&&e.data)return e.data},getCategories:function(){var e=this;return Object(u.a)(s.a.mark((function t(){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.getHeader(),t.next=4,x.a.get("".concat(ze,"/api/categories"),{headers:a});case 4:return r=t.sent,t.abrupt("return",e.handleResponse(r));case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",e.generateErrorResponse(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},addCategory:function(e){var t=this;return Object(u.a)(s.a.mark((function a(){var r,n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=t.getHeader(),a.next=4,x.a.post("".concat(ze,"/api/categories"),e,{headers:r});case 4:return n=a.sent,a.abrupt("return",t.handleResponse(n));case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",t.generateErrorResponse(a.t0.message));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},updateCategory:function(e){var t=this;return Object(u.a)(s.a.mark((function a(){var r,n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=t.getHeader(),a.next=4,x.a.put("".concat(ze,"/api/categories"),e,{headers:r});case 4:return n=a.sent,a.abrupt("return",t.handleResponse(n));case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",t.generateErrorResponse(a.t0.message));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},deleteCategory:function(e){var t=this;return Object(u.a)(s.a.mark((function a(){var r,n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=t.getHeader(),a.next=4,x.a.put("".concat(ze,"/api/categories/").concat(e),{headers:r});case 4:return n=a.sent,a.abrupt("return",t.handleResponse(n));case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",t.generateErrorResponse(a.t0.message));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},getToken:function(){return localStorage.getItem("deliverypp_user_login_token")},getHeader:function(){var e=this.getToken();return{Authorization:"Bearer ".concat(e)}}},Ge=Object.freeze(qe),He=function(e){return{type:"ADD_CATEGORIES",payload:{categories:e}}},We=Object(Ue.d)(Fe,Object(Ue.a)(Me.a)),Qe=We;We.dispatch((function(e){Ge.getCategories().then((function(t){t.success&&e(He(t.response))}))})),c.a.render(n.a.createElement(j.a,{store:Qe},n.a.createElement(n.a.StrictMode,null,n.a.createElement(De,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,a){},59:function(e,t,a){},77:function(e,t,a){e.exports=a(209)},82:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.699dbc98.chunk.js.map